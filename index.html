<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Verkefni 2</title>
	<link rel="stylesheet" type="text/css" href="css/foundation.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<script src="js/vendor/jquery.js"></script>
	<script src="js/foundation/foundation.js"></script>
</head>
<body>
	<div class="nav">
		<h1 class="center">Music in Iceland</h1>
	</div>
	<div class="row">
		<div class="large-12 columns">
			<ul class="mainStuff">
				
			</ul>
		</div>
	</div>
<script>
$(document).ready(function() {
	$.ajax({
		'url': 'http://apis.is/concerts',
		'type': 'GET',
		'dataType': 'json',
		'success': function(response){
			console.log(response);

			// Gets the number of objects
			var responseLength = Object.keys(response.results).length;

			for(var i = 0; i < responseLength; i++)
			{
				// var data = document.createElement("li");
				var data = "<li date='" + response.results[i].dateOfShow + "'><div class='row idfk'><div class='large-8 columns'><span class='title'>" + response.results[i].eventDateName + "</span><br><span class='idk'>" + response.results[i].name + "</span><br><span class='idk'>" + response.results[i].eventHallName + "</span><br><span class='date'>" + response.results[i].dateOfShow + "</span><span class='group'>" + response.results[i].userGroupName + "</span></div><div class='large-4 columns'><img src='" + response.results[i].imageSource + "'></div></div></li>";

				// data.innerHTML = "<div class='row idfk'><div class='large-8 columns'><span class='title'>" + response.results[i].eventDateName + "</span><br><span class='idk'>" + response.results[i].name + "</span><br><span class='idk'>" + response.results[i].eventHallName + "</span><br><span class='date'>" + response.results[i].dateOfShow + "</span><span class='group'>" + response.results[i].userGroupName + "</span></div><div class='large-4 columns'><img src='" + response.results[i].imageSource + "'></div></div>";

				$(".mainStuff").append(data);
			}
		}
	});
});
</script>
</body>
</html>